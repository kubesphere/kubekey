apiVersion: kubekey.kubesphere.io/v1alpha2
kind: Cluster
metadata:
  name: samplefdf
spec:
  hosts:
    - name: node1
      role:
        - Master
      address: 192.168.6.2
      internalAddress: 192.168.6.2
      port: 8022
      user: root
      password: '123456'
      privateKeyPath: /var/root/.ssh/id_rsa
    - name: node2
      role:
        - Master
      address: 192.168.6.2
      internalAddress: 192.168.6.2
      user: root
      password: '123456'
      privateKeyPath: /var/root/.ssh/id_rsa
    - name: node3
      role:
        - Master
      address: 192.168.6.2
      internalAddress: 192.168.6.2
      user: root
      password: '123456'
      privateKeyPath: /var/root/.ssh/id_rsa
  roleGroups:
    etcd:
      - node1
      - node2
    master:
      - node1
    worker:
      - node2
      - node3
  controlPlaneEndpoint:
    internalLoadbalancer: haproxy
    externalDNS: false
    domain: lb.kubesphere.local
    address: ''
    port: 6443
  system:
    ntpServers:
      - time1.cloud.tencent.com
      - ntp.aliyun.com
      - node1
    timezone: Asia/Shanghai
    rpms:
      - nfs-utils
    debs:
      - nfs-common
  kubernetes:
    version: v1.27.5
    apiserverCertExtraSans:
      - 192.168.8.8
      - lb.kubespheredev.local
    containerManager: docker
    clusterName: cluster.local
    autoRenewCerts: true
    masqueradeAll: false
    maxPods: 110
    podPidsLimit: 10000
    nodeCidrMaskSize: 24
    proxyMode: ipvs
    featureGates:
      CSIStorageCapacity: true
      ExpandCSIVolumes: true
      RotateKubeletServerCertificate: true
      TTLAfterFinished: true
    kubeProxyConfiguration:
      ipvs:
        excludeCIDRs:
          - 172.16.0.2/24
  etcd:
    type: kubekey
    dataDir: /var/lib/etcd
    heartbeatInterval: 250
    electionTimeout: 5000
    snapshotCount: 10000
    autoCompactionRetention: 8
    metrics: basic
    quotaBackendBytes: 2147483648
    maxRequestBytes: 1572864
    maxSnapshots: 5
    maxWals: 5
    logLevel: info
  network:
    plugin: flannel
    calico:
      ipipMode: Always
      vxlanMode: Never
      vethMTU: 0
    kubePodsCIDR: 10.233.64.0/18
    kubeServiceCIDR: 10.233.0.0/18
  storage:
    openebs:
      basePath: /var/openebs/local
  registry:
    registryMirrors: []
    insecureRegistries: []
    privateRegistry: ''
    namespaceOverride: ''
    auths:
      dockerhub.kubekey.local:
        username: xxx
        password: '***'
        skipTLSVerify: false
        plainHTTP: false
        certsPath: /etc/docker/certs.d/dockerhub.kubekey.local
  addons: []
KubekeyNamespace: dsds
