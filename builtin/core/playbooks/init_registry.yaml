---
# Load default variables and perform prechecks on all hosts
- hosts:
    - all
  tags: ["always"]
  gather_facts: true
  roles:
    - defaults
    - native/root


# Download all required software and generate certificates on the localhost
- hosts:
    - localhost
  gather_facts: true
  roles:
    - role: certs/init
    - role: download

# Initialize all nodes and install necessary software packages
- hosts:
    - image_registry
  tags: ["always"]
  roles:
    - role: native
    - role: image-registry
