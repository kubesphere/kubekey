kind: Cluster
apiVersion: kubekey.kubesphere.io/v1alpha2
metadata:
  name: sample
  creationTimestamp: null
  labels:
    type.kubekey.kubesphere.io/backend: yourValueHere
spec:
  hosts:
    - name: node1
      address: 192.168.6.1
      internalAddress: 192.168.6.1
      port: 8022
      user: root
      password: '123456'
      privateKeyPath: /var/root/.ssh/id_rsa
    - name: node2
      address: 192.168.6.2
      internalAddress: 192.168.6.2
      user: root
      password: '123456'
      privateKeyPath: /var/root/.ssh/id_rsa
  roleGroups:
    etcd:
      - node2
    master:
      - node1
      - node2
    worker:
      - node2
  controlPlaneEndpoint:
    internalLoadbalancer: haproxy
    domain: lb.kubesphere.local
    externalDNS: false
    port: 6443
    kubevip: {}
  system:
    ntpServers:
      - time1.cloud.tencent.com
      - ntp.aliyun.com
      - node1
    timezone: Asia/Shanghai
    rpms:
      - nfs-utils
    debs:
      - nfs-common
  etcd:
    type: kubekey
    external: {}
    dataDir: /var/lib/etcd
    heartbeatInterval: 250
    electionTimeout: 5000
    snapshotCount: 10000
    autoCompactionRetention: 8
    metrics: basic
    quotaBackendBytes: 2147483648
    maxRequestBytes: 1572864
    maxSnapshots: 5
    maxWals: 5
    logLevel: info
  dns:
    dnsEtcHosts: ''
    coredns:
      additionalConfigs: ''
      externalZones: []
      rewriteBlock: ''
      upstreamDNSServers: []
    nodelocaldns:
      externalZones: []
  kubernetes:
    version: v1.21.5
    clusterName: cluster.local
    maxPods: 110
    podPidsLimit: 10000
    nodeCidrMaskSize: 24
    apiserverCertExtraSans:
      - 192.168.8.8
      - lb.kubespheredev.local
    proxyMode: ipvs
    autoRenewCerts: true
    containerManager: docker
    nodeFeatureDiscovery: {}
    kata: {}
    featureGates:
      CSIStorageCapacity: true
      ExpandCSIVolumes: true
      RotateKubeletServerCertificate: true
      TTLAfterFinished: true
    kubeletConfiguration: null
    kubeProxyConfiguration: null
    audit: {}
  network:
    plugin: calico
    kubePodsCIDR: 10.233.64.0/18
    kubeServiceCIDR: 10.233.0.0/18
    calico:
      ipipMode: Always
      vxlanMode: Never
    flannel: {}
    kubeovn:
      dpdk: {}
      ovs-ovn: {}
      kube-ovn-controller: {}
      kube-ovn-cni: {}
      kube-ovn-pinger: {}
    multusCNI: {}
    hybridnet: {}
  storage:
    openebs:
      basePath: /var/openebs/local
  registry:
    auths: null
  kubesphere: {}
